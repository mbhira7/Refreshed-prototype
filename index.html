<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Refreshed</title>
    <script src="https://kit.fontawesome.com/8823a292b7.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="./style.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <nav id="main-nav">
            <a class="img-link" href="./index.html">
                <figure class="img-container">
                    <img id="logo-img" src="./img/logo.png" alt="Image of Refreshed's logo">
                </figure>
                
            </a>
            <div class="nav-middle">
                <a href="./index.html" >Home</a>
                <a href="./products.html" >Products</a>
                <a href="./about.html" >About</a>
                <a href="./contact-us.html">Contact</a>
            </div>
        </nav>
    </header> 
    
        <input type="checkbox" id="cb">

        <label id="burger" for="cb">
            <div></div>
            <div></div>
            <div></div>
        </label>
        
        <nav id="menu">
            <a href="./index.html" >Home</a>
            <a href="./products.html">Products</a>
            <a href="./about.html">About</a>
            <a href="./contact-us.html">Contact</a>            
        </nav>

    
    
        <section class="para p1" id="home" style="background-image: linear-gradient(rgba(86, 79, 95, 0.64), rgba(79, 30, 83, 0.39)), url(./img/slide1.png);">
            <button id="left" class="slide-arrow-div">
                <i class="fas fa-chevron-left" aria-hidden="true"></i>
            </button>
            
        
            <div class="home-div">
    
                <div class="home-left">
                
                   
                    <div>
                        <h1 class="product-navn">Rise - our newest collection</h1>
                        <p class="product-beskrivelse">The Rise Modular Alarm Clock is designed to make the process of waking up more comfortable, while being customizable to the customer’s needs. Choose between several modules (sold separately) to connect to the clock to tailor the morning experience just for you.</p>
                        <a href="./products.html">
                            <button type="button">LEARN MORE</button>
                        </a>
                    </div>
                    
                </div>
    
    
            </div>
    
            <button class="slide-arrow-div" id="right">
                <i class="fas fa-chevron-right" aria-hidden="true"></i>
            </button>
    
        </section>

    <script src="./index.js"></script>
    <script>
         const p1 = document.querySelector(".p1")
        const produktContainer = document.querySelector(".produktbilde");
        const leftArrow = document.querySelector("#left");
        const rightArrow = document.querySelector("#right");
        const productName = document.querySelector(".product-navn")
        const productDescription = document.querySelector(".product-beskrivelse")

        const bilder = [
        {"bilde": "./img/slide2.png", "tittel": "Rise - add ons ", "beskrivelse":"Rise will in the future come up with different add-ons that fit exactly your needs. They are both simple and of more advanced nature. Like for example vibration plates, fans, smart light set up and sound system."},
        {"bilde": "./img/slide1.png", "tittel": "Rise - our newest collection", "beskrivelse":"The Rise Modular Alarm Clock is designed to make the process of waking up more comfortable, while being customizable to the customer’s needs. Choose between several modules (sold separately) to connect to the clock to tailor the morning experience just for you."}
        
        ];


        let interval 
        let loaded = false
        let i = 0
        let stopSlide = false
        let slidesLength = 2;

        const slideshow = (p) => {

            if(i >= bilder.length) {
                i = 0;  
            } 
            
            
            const bakgrunn = bilder[i].bilde;
            
            
            //p1.style.backgroundImage = `linear-gradient(to bottom, rgb(86 79 95 / 64%),rgb(79 30 83 / 39%)),
            //url(${bakgrunn})`;  

            //produktContainer.src = bakgrunn
            //produktContainer.alt = "Product image of The Rise modular alarm clock"
            productName.innerHTML = bilder[i].tittel
            productDescription.innerHTML = bilder[i].beskrivelse
            
            p1.style.backgroundImage = `linear-gradient(rgba(86, 79, 95, 0.64), rgba(79, 30, 83, 0.39)), url(${bakgrunn})`;
            
            i++;
            

            /*if(bilder.length > 0 ){
                
                //Går til neste slide
                if(p !== "previous"){
                    if(i >= slidesLength ) {
                        i = 0
                    }
                }
                
                //Går til forrige slide
                if(p === "previous"){
                    if(i > slidesLength){
                        i = slidesLength - 1
                    }

                    if(i === 1){
                        i = slidesLength + 1
                    }
                    
                    i--
                }

                //Kjører slideshow som vanlig
                else{
                    i++
                }

                const bakgrunn = bilder[i];
        
        
                p1.style.backgroundImage = `linear-gradient(to bottom, rgb(86 79 95 / 64%),rgb(79 30 83 / 39%)),
                url(${bakgrunn})`; 
                
            }*/

        }

        //Toggler mellom play og pause ikonene
        //Stopper og kjører slideshow avhenging av ikonene
        const toggle = (evt) => {
            evt.stopPropagation()
            stopSlide = !stopSlide

            if(stopSlide){
                stopSlideshow()
            }

            else{
                nextMovie()
            }
        }

        //Går til neste slide manuelt
        const nextMovie = (param) => {
            if(!stopSlide){
                slideshow(param)
                interval = clearInterval(interval)
                interval = setInterval(slideshow, 3000)
            }
            else{
                slideshow(param)
            }
            
        }


        //Stopper slideshow
        const stopSlideshow = () => {
            interval = clearInterval(interval)
        }

        interval = setInterval(slideshow, 5000)

        leftArrow.onclick = () => {
            nextMovie("previous")
        }

        rightArrow.onclick = () => {
            nextMovie()
        }

        
    </script>
</body>
</html>